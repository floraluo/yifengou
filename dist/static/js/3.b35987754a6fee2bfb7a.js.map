{"version":3,"sources":["webpack:///src/components/cartItem.vue","webpack:///./src/components/cartItem.vue?3b5c","webpack:///./src/components/cartItem.vue?a372","webpack:///src/pages/cart/index.vue","webpack:///./src/pages/cart/index.vue?716c","webpack:///./src/pages/cart/index.vue?7cf3"],"names":["cartItem","props","id","Number","pic","String","name","couponPrice","discountPrice","goodsPrice","data","methods","reduceCart","_this","this","$get","then","res","console","log","code","$toast","center","$emit","components_cartItem","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","src","_v","_s","on","click","$event","stopPropagation","staticRenderFns","src_components_cartItem","__webpack_require__","normalizeComponent","ssrContext","cart","cartList","components","tabbar","getCartList","updateList","goBuy","_this2","limit","link","limitMsg","window","location","href","initView","_this3","invite","$router","push","mounted","share","get2","wx","$store","state","shareImg","pages_cart","length","_e","_l","item","index","key","goodsImg","goodsContent","updateCartList","nativeOn","cart_Component","cart_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/3.b35987754a6fee2bfb7a.js","sourcesContent":["<template>\n  <!-- 商品列表组件 -->\n  <div class=\"list_item\">\n    <div class=\"goods_img\">\n      <img :src=\"pic\">\n    </div>\n    <div class=\"goods_info\">\n      <div class=\"goods_name\">{{name}}</div>\n      <div class=\"goods_price\">\n        <div class=\"now_price\">¥{{couponPrice}}</div>\n        <div class=\"before_price\">原价: ¥{{goodsPrice}}</div>\n      </div>\n      <div class=\"goods_coupon\">\n        <div class='coupon_name'>券</div>\n        <div class='coupon_price'>¥{{discountPrice}}</div>\n      </div>\n    </div>\n    <i class=\"iconfont icon-shanchu\" @click.stop=\"reduceCart(id)\"></i>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    id: Number,\n    pic: String,\n    name: String,\n    couponPrice: Number,\n    discountPrice: Number,\n    goodsPrice: Number\n  },\n  data() {\n    return {};\n  },\n  methods:{\n    // 删除购物车\n    reduceCart(id){\n      this.$get('/cart/del',{id}).then(res=>{\n        console.log('删除',res)\n        if (res.data.code === 200) {\n          this.$toast.center('删除成功')\n          // 删除的同时需要派发一个事件给父组件（这里指cart页面），事件通知父组件更新购物车列表\n          this.$emit('updateCartList')\n        }\n      })\n    }\n  }\n};\n</script>\n\n<style>\n.list_item {\n  position: relative;\n  width: 100%;\n  height: 110px;\n  display: flex;\n  justify-content: space-between;\n  background: white;\n  border-radius: 10px;\n  margin: 10px 0;\n}\n.list_item .goods_img {\n  width: 110px;\n  height: 100%;\n  border-top-left-radius: 10px;\n  border-bottom-left-radius: 10px;\n}\n.list_item .goods_img img {\n  width: 100%;\n  height: 100%;\n  border-top-left-radius: 10px;\n  border-bottom-left-radius: 10px;\n}\n.list_item .goods_info {\n  width: 70%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  font-size: 15px;\n}\n.list_item .goods_info .goods_name {\n  width: 100%;\n  height: 42px;\n  box-sizing: border-box;\n  padding-left: 10px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n@media only screen and (max-width: 320px) {\n  .list_item .goods_info .goods_name {\n    font-size: 14px;\n    height: 40px;\n  }\n}\n.list_item .goods_info .goods_price {\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  padding-left: 10px;\n}\n.goods_info .goods_price .now_price {\n  font-size: 32rpx;\n  color: red;\n  margin-right: 10px;\n}\n.goods_info .goods_price .before_price {\n  font-size: 26rpx;\n  color: #ccc;\n  text-decoration: line-through;\n}\n.goods_info .goods_coupon {\n  display: flex;\n  width: 70px;\n  height: 25px;\n  line-height: 25px;\n  margin-bottom: 4px;\n  margin-left: 10px;\n  text-align: center;\n  border: 1px solid #ec4e4f;\n  border-radius: 5px;\n  color: #ec4e4f;\n}\n.goods_info .goods_coupon .coupon_name {\n  width: 25px;\n  height: 25px;\n  line-height: 25px;\n  text-align: center;\n  border-right: 1px dotted #ec4e4f;\n  margin-right: 10px;\n}\n.list_item .iconfont {\n  position: absolute;\n  color: #e94f4f;\n  font-size: 30px;\n  right: 25px;\n  bottom: 10px;\n  width: 50px;\n  height: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/cartItem.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list_item\"},[_c('div',{staticClass:\"goods_img\"},[_c('img',{attrs:{\"src\":_vm.pic}})]),_vm._v(\" \"),_c('div',{staticClass:\"goods_info\"},[_c('div',{staticClass:\"goods_name\"},[_vm._v(_vm._s(_vm.name))]),_vm._v(\" \"),_c('div',{staticClass:\"goods_price\"},[_c('div',{staticClass:\"now_price\"},[_vm._v(\"¥\"+_vm._s(_vm.couponPrice))]),_vm._v(\" \"),_c('div',{staticClass:\"before_price\"},[_vm._v(\"原价: ¥\"+_vm._s(_vm.goodsPrice))])]),_vm._v(\" \"),_c('div',{staticClass:\"goods_coupon\"},[_c('div',{staticClass:\"coupon_name\"},[_vm._v(\"券\")]),_vm._v(\" \"),_c('div',{staticClass:\"coupon_price\"},[_vm._v(\"¥\"+_vm._s(_vm.discountPrice))])])]),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-shanchu\",on:{\"click\":function($event){$event.stopPropagation();_vm.reduceCart(_vm.id)}}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3ff2bebe\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/cartItem.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3ff2bebe\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./cartItem.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./cartItem.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./cartItem.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3ff2bebe\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./cartItem.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/cartItem.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"cart_list\">\n    <div v-if=\"!cartList.length\" class=\"no_cartlist\">购物车为空</div>\n    <!-- 购物车列表 -->\n    <cart-item v-for=\"(item,index) in cartList\" :key=\"index\" @click.native=\"goBuy(item.id)\" :id=\"item.id\" :pic=\"item.goodsImg\" :name=\"item.goodsContent\" :couponPrice=\"item.couponPrice\" :discountPrice=\"item.discountPrice\" :goodsPrice=\"item.goodsPrice\" @updateCartList=\"updateList\">\n    </cart-item>\n    <tabbar />\n  </div>\n</template>\n\n<script>\nimport cartItem from \"@/components/cartItem\";\nimport tabbar from \"../../components/tabbar\";\nimport login from \"../../module/login\";\nexport default {\n  data() {\n    return {\n      cartList: []\n    };\n  },\n  components: {\n    cartItem,\n    tabbar\n  },\n  methods: {\n    // 获取购物车列表\n    getCartList() {\n      this.$get(\"/cart/list\").then(res => {\n        console.log(\"获取\", res);\n        if (res.data.code === 200) {\n          this.cartList = res.data.data;\n        } else {\n          this.cartList = [];\n        }\n      });\n    },\n\n    // 删除后 更新列表\n    updateList() {\n      this.getCartList();\n    },\n\n    // 点击购买商品\n    goBuy(id) {\n      this.$get(\"/goods/link\", { id }).then(res => {\n        console.log(res);\n        if (res.data.code === 200) {\n          if (res.data.data.limit && res.data.data.link) {\n            this.$toast.center(res.data.data.limitMsg);\n          } else {\n            if (res.data.data.link) {\n              console.log(res.data.data.link);\n               window.location.href = res.data.data.link\n            }\n          }\n        } else if (res.data.code === 1001) {\n          this.$toast.center(\"活动时间还没到哦\");\n        } else if (res.data.code === 1002) {\n          this.$toast.center(\"活动时间已经结束了\");\n        } else if (res.data.code === 1003) {\n          this.$toast.center(\"该商品已经下架\");\n        } else {\n          this.$toast.center(\"请重试\");\n        }\n      });\n    },\n    initView(){\n      this.$get('/init').then(res=>{\n        console.log('init',res)\n        if (res.data.code === 200) {\n          if (!res.data.data.invite){\n            this.$router.push(\"/invite\");\n            return;\n          }\n        }else {\n          this.$router.push(\"/invite\");\n        }\n      })\n    }\n  },\n  mounted() {\n      this.initView()\n\n      this.getCartList();\n      // 分享\n      this.share(this.get2, this.wx, this.$store.state.shareImg);\n\n  }\n};\n</script>\n\n<style>\n.cart_list {\n  margin: 0 10px 52px;\n}\n.no_cartlist {\n  margin-top: 10px;\n  height: 100px;\n  line-height: 100px;\n  text-align: center;\n  background: white;\n  border-radius: 8px;\n}\n@media only screen and (max-width: 320px) {\n  .cart_list {\n    margin: 0 5px;\n  }\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/cart/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cart_list\"},[(!_vm.cartList.length)?_c('div',{staticClass:\"no_cartlist\"},[_vm._v(\"购物车为空\")]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.cartList),function(item,index){return _c('cart-item',{key:index,attrs:{\"id\":item.id,\"pic\":item.goodsImg,\"name\":item.goodsContent,\"couponPrice\":item.couponPrice,\"discountPrice\":item.discountPrice,\"goodsPrice\":item.goodsPrice},on:{\"updateCartList\":_vm.updateList},nativeOn:{\"click\":function($event){_vm.goBuy(item.id)}}})}),_vm._v(\" \"),_c('tabbar')],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3ef9913c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/cart/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3ef9913c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3ef9913c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/cart/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}